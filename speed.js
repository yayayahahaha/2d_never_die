(function(jwplayer){var minPlayerVersion='7.0',pluginName='speed',pluginVersion='0.0.2e';var _T=function(s){return jwplayer._T(s,_);},_={eng:{_icon:'üèÉ'},cht:{_icon:'ÈÄü'},chs:{_icon:'ÈÄü'}};var template=function(player,config,div){var container,video;var speeds=['4x','3x','2x','1.5x','1.25x','1x','0.75x','0.5x'];var speedsDefaultIdx=5,speedsActiveIdx;if(speeds.length===0)return;player.on('ready',function(){container=document.querySelector('#'+player.id);video=container.querySelector('video');addMenu();addMenuFunction();changeSpeed(speedsDefaultIdx);});function addMenu(){var html='<div class="jw-icon jw-icon-tooltip jw-icon-'+pluginName+' jw-button-color jw-reset">';if(speeds.length>0){html+='<div class="jw-overlay jw-reset"><ul class="jw-menu jw-background-color jw-reset">';speeds.forEach(function(item,idx){var itemClass='jw-text jw-option jw-item-'+idx+' jw-reset';html+='<li class="'+itemClass+'">'+item+'</li>';});html+='</ul></div>';}
html+='</div>';container.querySelector('.jw-text-duration').insertAdjacentHTML('afterend',html);}
function addMenuFunction(){var menu=container.querySelector('.jw-icon-tooltip.jw-icon-'+pluginName);menu.addEventListener('mouseenter',toggleJwOpen);menu.addEventListener('mouseleave',toggleJwOpen);function toggleJwOpen(e){e.target.classList.toggle('jw-open');}
var items=[].slice.call(menu.querySelectorAll('.jw-option'));items.forEach(function(item,idx){item.addEventListener('click',function(){changeSpeed(idx);});});container.addEventListener('keydown',function(e){var k=e.which||e.keyCode;if(k==106){changeSpeed(speedsDefaultIdx);}
else if(k==107){changeSpeed(--speedsActiveIdx);}
else if(k==109){changeSpeed(++speedsActiveIdx);}});}
function changeSpeed(idx){idx=idx<0?0:idx;idx=idx>=speeds.length?speeds.length- 1:idx;speedsActiveIdx=idx;var menu=container.querySelector('.jw-icon-tooltip.jw-icon-'+pluginName);var items=[].slice.call(menu.querySelectorAll('.jw-option'));items.forEach(function(item){item.classList.remove('jw-active-option');});var activeItem=menu.querySelector('.jw-item-'+idx);activeItem.classList.add('jw-active-option');video.defaultPlaybackRate=parseFloat(speeds[idx]);video.playbackRate=parseFloat(speeds[idx]);}};addMenuCss();jwplayer().registerPlugin(pluginName,minPlayerVersion,template);console.log('[JW Player] Plugin loaded: '+pluginName+' v'+pluginVersion);function addMenuCss(){var css='<style type="text/css">';css+='.jw-icon-'+pluginName+':before { content: "'+_T('_icon')+'"; }';css+='.jw-icon-'+pluginName+' .jw-option { text-align: left; }';css+='</style>';document.querySelector('head').insertAdjacentHTML('beforeend',css);}})(jwplayer);